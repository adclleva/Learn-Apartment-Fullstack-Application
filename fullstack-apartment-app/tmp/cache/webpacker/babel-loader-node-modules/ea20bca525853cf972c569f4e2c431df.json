{"ast":null,"code":"var _jsxFileName = \"/Users/arvin/Google Drive/full-stack-apartment-app/fullstack-apartment-app/app/javascript/components/Apartments.js\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport React from 'react';\nimport { getApartments } from '../api';\n\nvar Apartments =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Apartments, _React$Component);\n\n  function Apartments(props) {\n    var _this;\n\n    _classCallCheck(this, Apartments);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Apartments).call(this, props));\n\n    _this.componentWillMount = function () {\n      _this.loadApartments;\n    };\n\n    _this.loadApartments = function () {\n      getApartments().then(function (apartments) {\n        if (apartments.error) {\n          _this.setState({\n            errors: apartments.error\n          });\n        }\n\n        _this.setState({\n          apartments: apartments\n        });\n      });\n    };\n\n    _this.state = {\n      apartments: [],\n      errors: null\n    };\n    return _this;\n  }\n\n  _createClass(Apartments, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          apartments = _this$state.apartments,\n          errors = _this$state.errors;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, \"List of Apartments\"), errors && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, \"There seems to be a problem\"), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, errors.map(function (error) {\n        return React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }, \"error\");\n      }))), apartments.map(function (apartment, index) {\n        var street = apartment.street,\n            user_id = apartment.user_id;\n        return React.createElement(\"div\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, \"Street: \", street), React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, \"UserID: \", user_id));\n      }));\n    }\n  }]);\n\n  return Apartments;\n}(React.Component);\n\nexport default Apartments;","map":{"version":3,"sources":["/Users/arvin/Google Drive/full-stack-apartment-app/fullstack-apartment-app/app/javascript/components/Apartments.js"],"names":["React","getApartments","Apartments","props","componentWillMount","loadApartments","then","apartments","error","setState","errors","state","map","apartment","index","street","user_id","Component"],"mappings":";;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,QAA8B,QAA9B;;IAEMC,U;;;;;AACF,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,oFAAMA,KAAN;;AADe,UAQnBC,kBARmB,GAQE,YAAM;AACvB,YAAKC,cAAL;AACH,KAVkB;;AAAA,UAYnBA,cAZmB,GAYF,YAAM;AACnBJ,MAAAA,aAAa,GACRK,IADL,CACU,UAAAC,UAAU,EAAI;AAChB,YAAIA,UAAU,CAACC,KAAf,EAAsB;AAClB,gBAAKC,QAAL,CAAc;AAACC,YAAAA,MAAM,EAAEH,UAAU,CAACC;AAApB,WAAd;AACH;;AACD,cAAKC,QAAL,CAAc;AAACF,UAAAA,UAAU,EAAVA;AAAD,SAAd;AACH,OANL;AAOH,KApBkB;;AAEf,UAAKI,KAAL,GAAa;AACTJ,MAAAA,UAAU,EAAE,EADH;AAETG,MAAAA,MAAM,EAAE;AAFC,KAAb;AAFe;AAMlB;;;;6BAiBQ;AAAA,wBACyB,KAAKC,KAD9B;AAAA,UACGJ,UADH,eACGA,UADH;AAAA,UACeG,MADf,eACeA,MADf;AAGL,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADJ,EAGKA,MAAM,IACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKA,MAAM,CAACE,GAAP,CAAW,UAAAJ,KAAK;AAAA,eAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAL;AAAA,OAAhB,CADL,CAFJ,CAJR,EAYKD,UAAU,CAACK,GAAX,CAAe,UAACC,SAAD,EAAYC,KAAZ,EAAsB;AAAA,YAC1BC,MAD0B,GACNF,SADM,CAC1BE,MAD0B;AAAA,YAClBC,OADkB,GACNH,SADM,CAClBG,OADkB;AAElC,eACI;AAAK,UAAA,GAAG,EAAEF,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAaC,MAAb,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAaC,OAAb,CAFJ,CADJ;AAMH,OARA,CAZL,CADJ;AA0BH;;;;EArDoBhB,KAAK,CAACiB,S;;AAwD/B,eAAef,UAAf","sourcesContent":["import React from 'react'\nimport { getApartments } from '../api' \n\nclass Apartments extends React.Component {\n    constructor(props) {\n        super(props)    \n        this.state = {\n            apartments: [],\n            errors: null\n        }\n    }\n\n    componentWillMount = () => {\n        this.loadApartments\n    }\n\n    loadApartments = () => {\n        getApartments()\n            .then(apartments => {\n                if (apartments.error) {\n                    this.setState({errors: apartments.error})\n                }\n                this.setState({apartments})\n            })\n    }\n\n    \n    render() {\n        const { apartments, errors} = this.state\n\n        return(\n            <div>\n                <h2>List of Apartments</h2>\n\n                {errors && \n                    <div>\n                        <h3>There seems to be a problem</h3>\n                        <ul>\n                            {errors.map(error => (<li>error</li>))}\n                        </ul>\n                    </div>\n                }\n\n                {apartments.map((apartment, index) => {\n                    const { street, user_id } = apartment\n                    return (\n                        <div key={index}>\n                            <h2>Street: {street}</h2>\n                            <h2>UserID: {user_id}</h2>\n                        </div>\n                    )\n                })}\n\n\n            </div>\n        )\n    }\n}\n\nexport default Apartments"]},"metadata":{},"sourceType":"module"}