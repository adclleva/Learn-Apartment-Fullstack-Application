{"ast":null,"code":"var _jsxFileName = \"/Users/arvin/Google Drive/full-stack-apartment-app/fullstack-apartment-app/app/javascript/components/Apartments.js\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport React from 'react';\nimport { getApartments } from '../api';\nimport { Card, Button } from 'react-bootstrap';\n\nvar Apartments =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Apartments, _React$Component);\n\n  function Apartments(props) {\n    var _this;\n\n    _classCallCheck(this, Apartments);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Apartments).call(this, props));\n\n    _this.componentDidMount = function () {\n      _this.loadApartments();\n    };\n\n    _this.loadApartments = function () {\n      getApartments().then(function (apartments) {\n        if (apartments.error) {\n          _this.setState({\n            errors: apartments.error\n          });\n        }\n\n        _this.setState({\n          apartments: apartments\n        });\n      });\n    };\n\n    _this.state = {\n      apartments: [],\n      errors: null\n    };\n    return _this;\n  }\n\n  _createClass(Apartments, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          apartments = _this$state.apartments,\n          errors = _this$state.errors;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, \"List of Apartments\"), errors && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, \"There seems to be a problem\"), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, errors.map(function (error) {\n        return React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }, \"error\");\n      }))), apartments.map(function (apartment, index) {\n        return React.createElement(\"div\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, React.createElement(Card, {\n          style: {\n            width: '18rem'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, React.createElement(Card.Img, {\n          variant: \"top\",\n          src: \"holder.js/100px180\",\n          alt: \"some\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }), React.createElement(Card.Body, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, React.createElement(Card.Title, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, \"Apartment \", apartment.id), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, apartment.street), React.createElement(Button, {\n          variant: \"primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, \"Details\"), apartment.user_id == _this2.props.currentUser && React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, React.createElement(Button, {\n          variant: \"primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, \"Edit\"), React.createElement(Button, {\n          variant: \"primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, \"Delete\")))));\n      }));\n    }\n  }]);\n\n  return Apartments;\n}(React.Component);\n\nexport default Apartments;","map":{"version":3,"sources":["/Users/arvin/Google Drive/full-stack-apartment-app/fullstack-apartment-app/app/javascript/components/Apartments.js"],"names":["React","getApartments","Card","Button","Apartments","props","componentDidMount","loadApartments","then","apartments","error","setState","errors","state","map","apartment","index","width","id","street","user_id","currentUser","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { getApartments } from '../api' \nimport { Card, Button } from 'react-bootstrap'\n  \nclass Apartments extends React.Component {\n    constructor(props) {\n        super(props)    \n        this.state = {\n            apartments: [],\n            errors: null\n        }\n    }\n\n    componentDidMount = () => {\n        this.loadApartments()\n    }\n\n    loadApartments = () => {\n        getApartments()\n            .then(apartments => {\n                if (apartments.error) {\n                    this.setState({errors: apartments.error})\n                }\n                this.setState({apartments})\n            })\n    }\n\n    \n    render() {\n        const { apartments, errors} = this.state\n\n        return(\n            <div>\n                <h2>List of Apartments</h2>\n\n                {errors && \n                    <div>\n                        <h3>There seems to be a problem</h3>\n                        <ul>\n                            {errors.map(error => (<li>error</li>))}\n                        </ul>\n                    </div>\n                }\n\n                {apartments.map((apartment, index) => {\n                    return (\n                        <div key={index}>\n                            <Card style={{ width: '18rem' }}>\n                                <Card.Img variant=\"top\" src=\"holder.js/100px180\" alt=\"some\" />\n                                <Card.Body>\n                                    <Card.Title>Apartment {apartment.id}</Card.Title>\n                                    <Card.Text>\n                                        {apartment.street}\n                                    </Card.Text>\n                                <Button variant=\"primary\">Details</Button>\n                                {apartment.user_id == this.props.currentUser &&\n                                <div>\n                                   <Button variant=\"primary\">Edit</Button>\n                                    <Button variant=\"primary\">Delete</Button> \n                                </div>\n                                }\n                                </Card.Body>\n                            </Card>\n                        </div>\n                    )\n                })}\n\n\n            </div>\n        )\n    }\n}\n\nexport default Apartments"]},"metadata":{},"sourceType":"module"}